{% load static %}
<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
  <meta name="description" content="">
  <meta name="author" content="">
  <title>Homepage</title>
  <!-- Bootstrap core CSS -->
  <link rel="stylesheet" href="{% static 'css/bootstrap.min.css' %}">
  <!-- Custom styles for this template -->
  <link href="{% static 'css/style.css' %}" rel="stylesheet">
  <!-- For Font style -->
  <link rel="stylesheet" href="{% static 'css/font-awesome.min.css' %}">
  <link href="https://fonts.googleapis.com/css?family=Dosis:300,400,500,600,700,800" rel="stylesheet">
  <!-- Owl Stylesheets -->
  <link rel="stylesheet" href="{% static 'css/owl-carousel/owl.carousel.min.css' %}">
  <link rel="stylesheet" href="{% static 'css/owl-carousel/owl.theme.default.min.css' %}">
  <link rel="stylesheet" href="{% static 'css/jquery.fancybox.min.css' %}">
  <link rel="stylesheet" type="text/css" href="{% static 'css/YouTubePopUp.css' %}">


  <!-- cerulean template -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/4.5.3/cerulean/bootstrap.min.css"
    integrity="sha512-dQLT/B7byn2LjN/DN4zeBKpwGV6qbidV0XiMRWQOL7TGrV7FkZFldkGG+DGMU+CQnMTcRZlUI7GMWt1j6akNew=="
    crossorigin="anonymous" />
</head>

<body>
  <div>
    {%include "UserPanel.html" with user=request.user %}
 </div>
  <br>
  <div class="form-group">
    <input list="crags" type="text" id='location_name' class="form-control" placeholder="Location" /></label>
    <datalist id="crags">
      <option value="Mt Keira">
    </datalist>
    <button id='btn' class="btn  border border-darks"
      style="background-color: orange;  border-radius: 30px; width: 13%; margin-top: 3px;">Search</button>
  </div>
  <div id="googleMap" style="width:100%;height:400px;"></div>
  
    
  <a class="btn  border border-darks"
    style="background-color: orange;  border-radius: 30px; width: 40%; margin-top: 10%;color: black; margin-left: 35%;"href="{% url 'Crags1' %}">Lets Climb!
  </a>
 
  
  
  
  <script>
    function myMap() {
      let btn = document.getElementById("btn");
      btn.addEventListener('click', event => {
        let location_name = document.getElementById('location_name');
        console.log(location_name.value);
       
        if (location_name.value === 'Mt Keira') {
          var mapProp = {
            // lat and long for mt Keira 
            center: new google.maps.LatLng(-34.402798882401214, 150.85642735920308),
            zoom: 14,

          };
          var map = new google.maps.Map(document.getElementById("googleMap"), mapProp);
          // positions the marker at mt Keira  
          const marker = new google.maps.Marker({
            position: new google.maps.LatLng(-34.402798882401214, 150.85642735920308),
            map: map,
          });
        }

      });
    }
    
    // function myMap() {
    //         var mapProp = {
    //             center: new google.maps.LatLng(12.9716, 77.5946),
    //             zoom: 10,
    //         };
    //         var map = new google.maps.Map(document.getElementById('googleMap'), mapProp);
    //         var card = document.getElementById('pac-card');
    //         var input = document.getElementById('pac-input');

    //         map.controls[google.maps.ControlPosition.TOP_RIGHT].push(card);


    //         var marker = new google.maps.Marker({
    //             map: map
    //         });

            //Use Places Autocomplete
            // var autocomplete = new google.maps.places.Autocomplete(input);
            // autocomplete.addListener('place_changed', function() {
            //     marker.setVisible(false);
            //     var place = autocomplete.getPlace();
            //     if (!place.geometry) {
            //         // User entered the name of a Place that was not suggested and
            //         // pressed the Enter key, or the Place Details request failed.
            //         window.alert("No details available for input: '" + place.name + "'");
            //         return;
            //     }

            //     // If the place has a geometry, then present it on a map.
            //     if (place.geometry.viewport) {
            //         map.fitBounds(place.geometry.viewport);
            //     } else {
            //         map.setCenter(place.geometry.location);
            //         map.setZoom(10);
            //     }
            //     //Put markers on the place
            //     marker.setPosition(place.geometry.location);
            //     marker.setVisible(true);

            // });

        // }
  </script>
  <br><br>
  <script
    src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAeg0ZHofiqvXoMg6yAZtZEYJBSj0Xukzw&callback=myMap"></script>
  <br><br><br><br><br>
  <script src="{% static 'js/jquery.min.js' %}"></script>
  <script src="{% static 'js/bootstrap.min.js' %}"></script>
  <script src="{% static 'js/owl-carousel/owl.carousel.min.js' %}"></script>
  <script src="{% static 'js/owl-carousel/highlight.js' %}"></script>
  <script src="{% static 'js/owl-carousel/app.js' %}"></script>
  <script src="{% static 'js/jquery.fancybox.min.js' %}"></script>
  <script type="text/javascript" src="{% static 'js/YouTubePopUp.jquery.js' %}"></script>
</body>

</html>